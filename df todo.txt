commit notes:
-changed ranged projectile sprite to the same style as melee projectiles.
-finished code that plays when a unit is defeated to gracefully remove them from the field
-partially done y ordering, but still need to update unit bodies to match true y values

======= NOTES
collision layers/masks notes:
	layer: others can tell when they hit you
	mask: you can tell when you hit others
	- 1: everything related to units moving and hitting world border or obstacles.
	- 9: everything related to RANGED ANTI-ENEMY projectiles hitting units and obstacles.
	- 10: everything related to MELEE ANTI-ENEMY projectiles
	- 17: everything related to ANTI-ALLY projectiles hitting units and obstacles
	- 18: everything related to ANTI-ALLY projectiles hitting units and obstacles
	

======= TODO: combat feeling

immediate notes:
-

1. adjusted melee moves behavior against multiple targets--------[DONE]
2. enemy ai standoff/surrounding motivation----------------------[DONE]
3. hit stun system and mechanics tweaking------------------------[DONE]
4. experiment with summon mechanic-------------------------------[DONE]
5. experiment with move pre-delay--------------------------------[DONE]
6. [gate] absolutely complete adelie spritesheet-----------------[DONE]
7. [gate] effect visual overhaul---------------------------------[DONE]
a. attack priority system----------------------------------------[DONE]
b. clean up that errant print statement wherever it is-----------[DONE]
c. tweak and fine-tune a whole bunch of systems------------------[DONE]
d. tweaks to projectile visuals and hitboxes---------------------[DONE]
8. units being defeated------------------------------------------[DONE]
a. y ordering of units and obstacles-----------------------------[DONE]
b. adjust unit positions for y ordering--------------------------[]
9. border movement collision does not stop consistently----------[]

. add allied friday unit-----------------------------------------[]
. add ai target selection system---------------------------------[]
. [gate] Friday spritesheet--------------------------------------[]

. think more about 'flight mode' mechanic------------------------[]
. think about break/special mechanic-----------------------------[]

(long term goal)
. fully asseted up, encounter at scale---------------------------[]
. group encounter feels good-------------------------------------[]
. encounter against a boss feels good----------------------------[]
. review---------------------------------------------------------[]


- y ordering:
	- working now, but the units are offset internally in a way that makes y ordering misbehave
	to fix this, try going into their 2D worlds and making their butts flat on y=0 visually

- map border collision:
	super unreliable, units often just move right through with no issue. Why's that?
	- because the unit's collider is too small? try increasing it and see what happens.
	- but if it's too big the unit is more likely to get stuck while pathfinding.
	read about this, look up tutorial on how to do it and see if we did it differently.

- ally unit:
	keep this system generalized:
	- generalize the ai unit class
	- recreate the enemy adelie penguin unit
	- create an allied adelie penguin 
	make it so that all that changes is the unit's target selection and closeness selection
	(this should all be controlled by the unit's 'allegiance' flag)

	- create one for testing ai target picking (scarecrow is fine at first)
	- also just to make sure that larger scale fights work
	(does ally spread out from player, do enemies target ally and player in a balanced way, etc)
	their version of friendly standoff:
	- partner up with a unit and stick together? within a certain distance, etc, keep that sweetspot.
	- idk, maybe

- ai dodging:
	- more advanced units (allies or enemies) need to be able to dodge at least a little
	could start with something as simple as:
	- wherever it is you want to be, if you feel you are under threat
		- you want distance but enemy close, or you want close but enemy distant (but not too distant)
		- and you are not too close already to target position
	- if you can, then use your boost in the direction you want to go
	this will naturally help units either close distance or make distance

- ai delay between actions as range:
	for some enemies, to make them more unpredictable:
	- delay between actions can become a range and stuff.
	

- combat feeling review:
	- it's not enough to just work, it must also feel right.
	we will be able to judge it feels right if we're in a situation where:
	- we have a scene in a pretty encounter map with anse + Friday vs like 4 adelie.
	- also test a scene against a more boss-like enemy. Faster to react, does combos, etc
	do these feel good?
	
	important things:
	- does it feel clean? like you know what's happening? what's going on?
	- moves should have weight behind them. it should feel like: Bang! to bang! to bang!
	each thing you do, you're doing on purpose, and the game clearly reacts to you doing it.


================

- art overhaul:
	- the spritesheet for anse will need to be redone at some point. Probably by adding his hair and changing colours to the brown/tan of his coat.
	Here's a general idea. For generic FSes, they can wear full hoods.
	But for important characters, they should have their hair visible somewhere.

- if there is some kind of special move:
	it would be to skip the loadout timer swap and immediately go to the next one.
	- break accumulates on units normally, when a unit is broken, though:
	- no loadout skip on switch

- snow effect:
	- when you change direction or come to a stop, pop us a snow effect?

- weather effect:
	- snow or rain particle effects on screen, at varying intensity.

- debris effect:
	- when a unit is defeated, create some relevant debris on the ground near them
	ferra leave parts, Friday will leave her coat, etc.

- system to fire projectiles in multiple directions
	of course we want moves that are able to shoot in every direction.
	in addition to the projectile list, there is a projectile offset list
	- for each entry in the projectile list, it fires a projectile at every position in the offset list.
	- entries in the list range from 0-359 are correspond to a position around the unit relative to the position
	  of the unit circle arrow.

- new movement system to consider and test
	ACTUALLY, here's like probably a way better idea:
	- in normal movement mode, wasd like already implemented.
	- instead of shift being a boost, pressing shift would enter into flight mode.
	- when in flight mode, character moves in direction of pointer. faster than normal.
	- probably there would also be a limited duration to it. and also a lockout period too.
	- simple as.
	so you would only want to do this to escape enemies, or close distance fast, or dodge a tricky attack.
	- does it create a situation where you can just shift and run away every time an enemy attacks?
	- maybe, but you still have to get closer yourself too, you know.
	- also, you could still do that in baldr sky, but game still slapped.
	- our method of forcing different weapon sets to be equipped should combat that, right?

- camera manager:
	-zoom and move camera so that it can capture everything we want in frame at the same time
	-always the player, and it will expand to try to fit the last _ units you have hit within _ time

- create proper loadouts:
	- see paper notes about this

- flow mechanic:
	-some moves generate 'flow'
	-some moves can consume 'flow' to change their effect
	just a little something for players to think about when building a combo, that's it.

- encounter scene expansion:
	a given encounter will be made up of the following:
	- geography: the scene that holds the mat and the obstacles placed on it.
	- army setup: given the geography, this is where all units are placed initially.
	- plot: potential intro and ending cutscene sequences. Kept simple, usually.
	- encounter: rules that dictate how the encounter will play out in terms of combat, like:
		- when to spawn additional enemies/allies (timing, defeated x, etc)
		- unusual victory/defeat conditions (time elapses, ally/boss defeated, etc)
		- scrolling, the route and the speed, if applicable.
		this could end up being complicated, with scrolling, then a room, then more scrolling, etc.
	so create a full encounter scene with all this stuff defined.

- backgrounds and collision (graphical)
	- it would be really cool if objects and background borders had an indicator of where
	  exactly a border is.
	- for example, something like an inobtrusive dotted line around the edges of collision objects.
	bake it into art? seems simplest.
	can then just draw polygons along them.

- red line tracer
	- should we draw a line between mouse position and player to help with aiming?

- remember to create the combat ai in such a way to allow 3-way battles.

- some stuff is broken with multiple enemies here, btw. I think the issue is that they are not being instantiated separately. It's almost certainly this, but make sure before doing any more.
	-pass to encounter manager and have it instantiate them from there
	should fix any issues

- build loadouts properly:
	-see paper notes for movesets. we'll need 2 for anse.

- encounter ai:
	-there is an encounter manager which helps with:
		-coordination, so they don't all attack the same target
		-spawning reinforcements, etc

- enemy ai standoff:
	- should this be initialized to a random value in a given range upon combat start?

start of battle animation:
	-if would be cool if there was an animation with all the rings coming on as the fight began

- loadout system:
	- a simple and elegant way to determine which loadout you're switching to next
	rather than just going through them all in a preset order.
	(for the beginning, we only have 2 loadouts so we can ignore it for now.)
	(mousewhell scroll could be a winner for this; or pressing a bound key could also.)

== vn don't forget



-visuals (to consider)
	-lip sync
	-blinking
	-breath
