commit notes:
-change holding attack weight, it could make you prematurely drop a combo if you decided suddenly you want to hit someone else

======= NOTES
collision layers/masks notes:
	layer: gets hit
	mask: hits others
	- 1: everything related to units moving and hitting world border or obstacles. (all units)
	- 2: enemy unit physical collision layer (all enemies)
	- 3: ally unit physical collision layer (all allies, NOT player)
	- 9: everything related to RANGED ANTI-ENEMY projectiles hitting units and obstacles.
	- 10: everything related to MELEE ANTI-ENEMY projectiles
	- 17: everything related to ANTI-ALLY projectiles hitting units and obstacles
	- 18: everything related to ANTI-ALLY projectiles hitting units and obstacles

======= THE BIG DEAL: 

What is this game's thing? Here is what it is:
	- the preset sequences of moves of the loadout system.
	- the on the fly selection of loadouts as you go. A mix of preparation and improvisation.
	- swapping target mid-combo, that feeling of like weaving through a horde of enemies, fighting them all but making it through, stopping them as they launch themselves at you.
	(you can select this by pressing a number key at any time while the loadout is active/swapping)
	so you can decide how you want to continue the combo in the moment.

some more mechanically deep things:
	- you also want to use your movesets to defend yourself
	- things like the bubble are great at protecting you from counterattacks
	- things like lingering melee hitboxes are also great at this
	- things like flow are generated in one moveset to set you up for another

=======

. first scene mockup.............................................[]
. scene plan map for good chunk of prologue......................[]
. [real scenes gate].............................................[]
. story combat transitions.......................................[]


(work on paper for these things, i think.)

- first scene mockup:
	- take this onto paper my friend

- real game scenes:
	what is the first scene of the game?
	-what does it look like?
	-what happens?
	-text/audio/art, etc.
	plot out the first few scenes (let's focus on making the real stuff we need.)
	- then, make them. This is the best test.
	- what systems will we need to actually show this stuff properly


-visuals (to consider)
	-lip movement/not sync though, not necessary
	-blinking
	-breath, hot air in the cold (13!!!)
	-pose changing (like sideview, or back.)
	-small window (for anse's hands, the box, e.g. a necklace, etc)
	-being able to animate while speaking.
	-variable text bubble location, like near the speaker.
	-weather

- audio (to consider)
	-breathing
	-snow crunching/footsteps
	-wind, etc
	-secret language (try to create a program that converts?)
		or look into how fictional language people do it?
		remember, we usually just want like 2 to 5 words.
	-music


=== [real scenes gate] ===

- combat thoughts:
	- maybe it's too fast? can't react?
	- enemies are clumping up like crazy; bad
	- Friday is facehugging; bad

	maybe we should take a break and then go back for some big changes.
	- idea 1: a gridless tactical game where you move units and decide what they do.
		turn-based but gridless, yeah. you would control the squad of 4.
		- the emphasis would be on moving together and fighting against a swarm
		  while surrounded.
		- on a unit's turn, you move them and then order them to act.
		- movement takes time. acting takes time. 
		- if you schedule movement + action, you can save some time 
		  (instead of doing them in two separate moves.)
		- you might order them to move and then shoot here. 
			you have to choose the firing angle ahead of time.
		- and you would have to dodge attacks in real time too.
		the main idea is everything takes time to execute, so weave your way through.
		kind of like grandia 2, i guess.
		example interaction:
		1. enemy activates dash move towards friday.
		2. you order friday to move a little bit off course to dodge.
		3. the enemy still hasn't made it, but you order friday to fire where it'll be
		4. the enemy arrives and whiffes the attack, going into recovery.
		5. friday's bullets slam home.
	game flow would be: 
	- each tick, (if any units need new decisions, then open player ui for them)
	- right click to cancel a unit's action. but enters cancel recovery, making their next move have increased prep.
	- otherwise units simply continue acting with their last orders
	all actions units can take have:
	- prep (time you wait before the execution begins)
	- exec (how long the execution lasts)
	when exec finishes, unit is ready for a new command.
	
	do a paper prototype first.
	since we already have assets made, you could make a mock up of this idea.
	pretty quickly, probably: units need to move, use attack 1 and attack 2.
	but that's it. a very simple and elegant battle system.
	but first, take a break. focus on story stuff for a while and return centered.

- combat audio 101:
	AudioStreamPlayer2D object does this for effects, and also panning
	- you would attach this to objects, like units or obstacles/etc in geography.
	- they say that .wav is best for short SEs because they load faster
	unitSoundPlayer: component attached to unitbody:
	when/what should it play?
	- a quiet movement sound if just moving
	- a move-dependent sound on move use
	- a unit-dependent sound when getting hit

- visuals next steps:
	- shadows, try baking them in again. or use a separate sprite in the unit scene.
	- map backgrounds, floors look like a different style. 
	Try drawing smaller and with direct ref to units.

- more enemies:
	recolor and draw something new.
	- the cabler is dragging cables from a wing behind it, bit beaten up.
	[adelie cabler]
	1 loadout:
	- move 1: cable fling, sends out some slow projectiles
	- move 2: shock, creates a shock area right in front of them, like the shock move
	so they fire, then create a field to defend themselves

	[adelie snowroller]
	1 loadout:
	- move 1: snowball, sends out a slow and large projectile, a big ball of snow

	[emperor adelie]
	(actually not an adelie, but the name is too strong. emperor penguin guy)
	bigger and tougher. hits harder, idk.

- combo routing factors:
	in baldr sky, move order is quite technical because of launching and knockdown
	- our system doesn't have either of these things.
	what limits do we have in terms of which moves you can connect together?
	- move output cost: which will determine the length of your combo, and also last move, which is free.
	- range of the move: mixing close and far ranges can be tricky.
	- knockback: a big knockback move will knock an enemy out of range of a short move.
	- future 'flow': some moves do damage relative to flow generated, and may consume it.

- post battle reward system:
	- can be based on: how fast you won? how little damage both you and your allies took?

=== [combat feeling gate] ====

- grounded snow effect:
	- when you change direction or come to a stop, pop up a snow effect? scattered dust into the air.

- weather effect:
	- snow or rain particle effect on screen, at programmable intensity.

- system to fire projectiles in multiple directions:
	of course we want moves that are able to shoot in every direction.
	in addition to the projectile list, there is a projectile offset list
	- for each entry in the projectile list, it fires a projectile at every position in the offset list.
	- entries in the list range from 0-359 are correspond to a position around the unit relative to the position
	  of the unit circle arrow.

- flow mechanic:
	-some moves generate 'flow'
	-some moves can consume 'flow' to change their effect
	just a little something for players to think about when building a combo, that's it.
	-losing flow: if you get hit? if you miss a move?
	-showing flow: something around the player, visually. Like orbs or lines?

- backgrounds and collision (graphical)
	- it would be really cool if objects and background borders had an indicator of where
	  exactly a border is.
	- for example, something like an inobtrusive dotted line around the edges of collision objects.
	bake it into art? seems simplest.
	can then just draw polygons along them.

- red line tracer
	- should we draw a line between mouse position and player to help with aiming?
	- or is it just cool?

- encounter management:
	there is an encounter manager which accepts information and handles:
	-spawning reinforcements, timing, objectives, ending on defeat/victory.

start of battle animation:
	-if would be cool if there was an animation with all the rings coming on as the fight began. Like a bootup. Could do it by rapidly increasing the ring's scale from 0 to 1 over a time window.

- loadout system swap choice:
	- a simple and elegant way to determine which loadout you're switching to next
	rather than just going through them all in a preset order.
	(for the beginning, we only have 2 loadouts so we can ignore it for now.)
	(mousewhell scroll?)
	(or pressing 1/2/3/4?) <-- fav so far, because it lets you choose any cleanly.
	(or leftclick/rightclick to select either prev or former loadout?)
	the idea is that, although you can't choose a particular move for any situation, you can choose the perfect loadout for the given moment. So it's a bit higher level.
	remember, it is time sensitive as you only have a short window.
	- but to counteract this, you can enter the next loadout at any time to buffer it.

- ai unit targeting indicator:
	- draw a coloured line from them to the circle of their target? or just in that direction? idk.


=== [vn-ready gate] ===





