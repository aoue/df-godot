commit notes:
-implemented basic system to encourage units not to clump together

======= NOTES
collision layers/masks notes:
	layer: others can tell when they hit you
	mask: you can tell when you hit others
	- 1: everything related to units moving and hitting world border or obstacles.
	- 9: everything related to RANGED ANTI-ENEMY projectiles hitting units and obstacles.
	- 10: everything related to MELEE ANTI-ENEMY projectiles
	- 17: everything related to ANTI-ALLY projectiles hitting units and obstacles
	- 18: everything related to ANTI-ALLY projectiles hitting units and obstacles
	

======= TODO: combat feeling

immediate notes:
-

1. adjusted melee moves behavior against multiple targets--------[DONE]
2. enemy ai standoff/surrounding motivation----------------------[DONE]
...
. determine exactly what happens when a unit breaks--------------[]
. implement dummy system where units break at 100% break---------[]
. add ability to use break move----------------------------------[]

. [gate] absolutely complete adelie spritesheet------------------[]

. add ally scarecrow unit----------------------------------------[]
. add enemy ai target selection system---------------------------[]

. think more about 'flight mode' mechanic------------------------[]

(long term goal)
. fully asseted up, encounter at scale---------------------------[]


- enemy ai standoff:
	- let's make enemy units spread out a little bit amongst themselves to avoid clumping
	(incentivize them to create distance from each other)
	to test that this works properly:
	- add 2 enemies that start near each other and are targeting the player
	- they don't just go straight for the player, they spread out a little bit during their approach
	but they still make sure to straight on approach them.
	
	method to do this:
	- when setting movement target position, it's gotta be this, right?
	- first, pick target position based on target's position and move standoff
	- then, find the position of the (2?) nearest ally unit to you (check through villains)
	- add a positon offset in the direction opposite of their position.
		e.g. 
		my position = 100, 100
		original target position = 50, 50
		ally position = 125, 125
		i calculate my desired position to be (50, 50) + (100-125, 100-125)
	- calculate a new position based on that.


- adelie unit visual overhaul
	- update the spritesheet

... honestly, i still feel unsure about the break move mechanic. i don't really believe that it is good.

- break move mechanic:
	- (change get attack input to only respond to left click)
	- a move the player can use when pressing right click
	- the move itself can be swapped out, but for now a single one is fine.
	the move 
	
- break mechanic:
	simple version:
	- no such thing as a break move. Instead, when a unit's break reaches 100 naturally, they break.
	- in this case, it's just something that happens.
	for now, let's go with this simple version.

	breaking move version:
	there exists a 'breaking move' that a unit can use with RMB:
	- longer recharge time. used outside of loadout system. various ones exist.
	- only the breaking move can send a unit from 100% meter to broken state
	- on break, show [BREAK] text or similar, through floating damage text
	- when a unit is in broken state, the player does not suffer loadout swap timer when hitting them?
	
	

- map border collision:
	super unreliable, units often just move right through with no issue. Why's that?
	- because the unit's collider is too small? try increasing it and see what happens.
	- but if it's too big the unit is more likely to get stuck while pathfinding.





- ally unit:
	- create one for testing ai target picking (scarecrow is fine at first)
	- also just to make sure that larger scale fights work

- enemy ai:
	- enemy units are encouraged to spread out and attack different targets to avoid clumping
	(this is to do with their target selection function.)

- combat feeling:
	- it's not enough to work, it must also feel right.
	we will be able to judge it feels right if we're in a situation where:
	- we have a scene in a pretty encounter map with anse + Friday vs like 4 adelie.
	(of course this is something we aren't just 1 step away from)

- snow effect:
	- when you change direction or come to a stop, pop us a snow effect?

- weather effect:
	- snow or rain particle effects on screen, at varying intensity.

- system to fire projectiles in multiple directions
	of course we want moves that are able to shoot in every direction.
	in addition to the projectile list, there is a projectile offset list
	- for each entry in the projectile list, it fires a projectile at every position in the offset list.
	- entries in the list range from 0-359 are correspond to a position around the unit relative to the position
	  of the unit circle arrow.

- new movement system to consider and test
	ACTUALLY, here's like probably a way better idea:
	- in normal movement mode, wasd like already implemented.
	- instead of shift being a boost, pressing shift would enter into flight mode.
	- when in flight mode, character moves in direction of pointer. faster than normal.
	- probably there would also be a limited duration to it. and also a lockout period too.
	- simple as.
	so you would only want to do this to escape enemies, or close distance fast, or dodge a tricky attack.
	- does it create a situation where you can just shift and run away every time an enemy attacks?
	- maybe, but you still have to get closer yourself too, you know.
	- also, you could still do that in baldr sky, but game still slapped.
	- our method of forcing different weapon sets to be equipped should combat that, right?

- point of fire problem:
	- if an enemy is too close, you could fire past them. and the player could facehug enemies too.
	this is undesirable, so we need a solution.

- camera manager:
	-zoom and move camera so that it can capture everything we want in frame at the same time
	-always the player, and it will expand to try to fit the last _ units you have hit within _ time

- create proper loadouts:
	- see paper notes about this

- flow mechanic:
	-some moves generate 'flow'
	-some moves can consume 'flow' to change their effect
	just a little something for players to think about when building a combo, that's it.

- encounter scene expansion:
	a given encounter will be made up of the following:
	- geography: the scene that holds the mat and the obstacles placed on it.
	- army setup: given the geography, this is where all units are placed initially.
	- plot: potential intro and ending cutscene sequences. Kept simple, usually.
	- encounter: rules that dictate how the encounter will play out in terms of combat, like:
		- when to spawn additional enemies/allies (timing, defeated x, etc)
		- unusual victory/defeat conditions (time elapses, ally/boss defeated, etc)
		- scrolling, the route and the speed, if applicable.
		this could end up being complicated, with scrolling, then a room, then more scrolling, etc.
	so create a full encounter scene with all this stuff defined.

- backgrounds and collision (graphical)
	- it would be really cool if objects and background borders had an indicator of where
	  exactly a border is.
	- for example, something like an inobtrusive dotted line around the edges of collision objects.
	bake it into art? seems simplest.
	can then just draw polygons along them.

- red line tracer
	- should we draw a line between mouse position and player to help with aiming?

- remember to create the combat ai in such a way to allow 3-way battles.

- some stuff is broken with multiple enemies here, btw. I think the issue is that they are not being instantiated separately. It's almost certainly this, but make sure before doing any more.
	-pass to encounter manager and have it instantiate them from there
	should fix any issues

- build loadouts properly:
	-see paper notes for movesets. we'll need 2 for anse.

- encounter ai:
	-there is an encounter manager which helps with:
		-coordination, so they don't all attack the same target
		-spawning reinforcements, etc

start of battle animation:
	-if would be cool if there was an animation with all the rings coming on as the fight began

- loadout system:
	- a simple and elegant way to determine which loadout you're switching to next
	rather than just going through them all in a preset order.
	(for the beginning, we only have 2 loadouts so we can ignore it for now.)
	(mousewhell scroll could be a winner for this; or pressing a bound key could also.)

== vn don't forget



-visuals (to consider)
	-lip sync
	-blinking
	-breath
